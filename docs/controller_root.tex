\subsubsection{Root}
\label{sec:controller_root}

\paragraph{}
The Root controller is used to define global actions which map to URLs with no prefix. The Root default action is called when no other matching action has been found in the by Catalyst's URL mapping process. It is defined to return an HTML 404 Not Found error page, the template for which is 'site/404'. The Root index action matches the base URL (for example \url{http://localhost:3000/} under the test server) and forwards to the user's account page, or the login page if there is no current user. There is also an \texttt{auto} action defined in the root controller which is run for every request and redirects the user to the login page if they are not currently logged in, unless the URL is one of the few pages to which the user can have access without logging in (registration pages and similar). The Root \texttt{end} action deals with forwarding to the view to display the results of a given request to the user. Catalyst uses the end action most specific to the URL so component controllers can define their own end actions to hand off to a view other than Template Toolkit, if so required. AJAX actions are also defined in the Root controller to return the HTML of the navigation bar and the status bar so these can be updated if something which affects them changes without a page reload.